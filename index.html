<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Cat Fortress 2</title>
<style>
  body { margin: 0; overflow: hidden; background: #87ceeb; }
  canvas { display: block; background: #87ceeb; }
</style>
</head>
<body>
<canvas id="gameCanvas"></canvas>

<script>
// /**/ Game setup
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
canvas.width = 800;
canvas.height = 400;

// /**/ Load images
const floorImg = new Image();
floorImg.src = 'floor.png'; // your floor PNG

const stairsImg = new Image();
stairsImg.src = 'stairs.png'; // your stairs PNG

// /**/ Scale settings
const FLOOR_SCALE = 1.5;
const STAIRS_SCALE = 1.5;

// /**/ Floor tiles
const floorHeight = 32 * FLOOR_SCALE;
const floorTiles = Math.ceil(canvas.width / (floorImg.width * FLOOR_SCALE));
const floors = [
    canvas.height - floorHeight,          // ground floor
    canvas.height - floorHeight - 100     // second floor
];

// /**/ Stairs
const stairs = [
    { x: 300, y: floors[0] - 32 * STAIRS_SCALE, width: 40 * STAIRS_SCALE, height: 32 * STAIRS_SCALE, leadsTo: floors[1] },
    { x: 600, y: floors[0] - 32 * STAIRS_SCALE, width: 40 * STAIRS_SCALE, height: 32 * STAIRS_SCALE, leadsTo: floors[1] }
];

// /**/ Player
const player = { x: 50, y: floors[0] - 32, width: 32, height: 32, vy: 0, speed: 3, jumping: false };

// /**/ Gravity
const gravity = 0.7;

// /**/ Controls
const keys = {};
document.addEventListener('keydown', e => keys[e.key] = true);
document.addEventListener('keyup', e => keys[e.key] = false);

// /**/ Game loop
function loop() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Draw floors
    floors.forEach(floorY => {
        for (let i = 0; i < floorTiles; i++) {
            ctx.drawImage(
                floorImg,
                0, 0, floorImg.width, floorImg.height,
                i * floorImg.width * FLOOR_SCALE,
                floorY,
                floorImg.width * FLOOR_SCALE,
                floorHeight
            );
        }
    });

    // Draw stairs
    stairs.forEach(s => {
        ctx.drawImage(
            stairsImg,
            0, 0, stairsImg.width, stairsImg.height,
            s.x, s.y, s.width, s.height
        );
    });

    // Player movement
    if (keys['ArrowLeft']) player.x -= player.speed;
    if (keys['ArrowRight']) player.x += player.speed;
    if (keys['ArrowUp'] && !player.jumping) {
        player.vy = -12;
        player.jumping = true;
    }

    // Apply gravity
    player.vy += gravity;
    player.y += player.vy;

    // Floor collisions
    let onFloor = false;
    floors.forEach(floorY => {
        if (player.y + player.height > floorY) {
            if (player.y + player.height < floorY + player.vy + 5) {
                player.y = floorY - player.height;
                player.vy = 0;
                player.jumping = false;
                onFloor = true;
            }
        }
    });

    // Stairs collisions
    stairs.forEach(s => {
        if (
            player.x + player.width > s.x &&
            player.x < s.x + s.width &&
            player.y + player.height > s.y &&
            player.y + player.height < s.y + s.height + 10 &&
            player.vy >= 0
        ) {
            player.y = s.leadsTo - player.height;
            player.vy = 0;
            player.jumping = false;
        }
    });

    // Draw cat emoji player
    ctx.font = player.height + 'px Arial';
    ctx.fillText('üê±', player.x, player.y + player.height);

    requestAnimationFrame(loop);
}

loop();
</script>
</body>
</html>